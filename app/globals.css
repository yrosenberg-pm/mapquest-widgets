@import "tailwindcss";
@import "../styles/design-tokens.css";
@import "../styles/widget-base.css";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: #f3f4f6;
  font-family: ui-sans-serif, system-ui, sans-serif;
}

/* Desktop readability: apply a consistent 10% scale-up across widgets (mirrors common browser zoom usage).
   Using root font-size scales Tailwind's rem-based sizing without breaking fixed-width widget layouts. */
@media (min-width: 768px) {
  html {
    font-size: 110%;
  }
}

/* Hide scrollbar but keep scrolling functionality */
.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* ========================================
   Global Scrollbar Styling
   ======================================== */

/* Light mode scrollbar */
:root {
  scrollbar-width: thin;
  scrollbar-color: #CBD5E1 #F1F5F9;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: #F1F5F9;
  border-radius: 4px;
}

*::-webkit-scrollbar-thumb {
  background: #CBD5E1;
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
  background: #94A3B8;
  border: 2px solid transparent;
  background-clip: padding-box;
}

*::-webkit-scrollbar-corner {
  background: #F1F5F9;
}

/* Dark mode scrollbar - applies to data-theme and prefers-color-scheme */
[data-theme='dark'],
.dark-theme {
  scrollbar-color: #475569 #1E293B;
}

[data-theme='dark'] *::-webkit-scrollbar-track,
.dark-theme *::-webkit-scrollbar-track {
  background: #1E293B;
}

[data-theme='dark'] *::-webkit-scrollbar-thumb,
.dark-theme *::-webkit-scrollbar-thumb {
  background: #475569;
}

[data-theme='dark'] *::-webkit-scrollbar-thumb:hover,
.dark-theme *::-webkit-scrollbar-thumb:hover {
  background: #64748B;
}

[data-theme='dark'] *::-webkit-scrollbar-corner,
.dark-theme *::-webkit-scrollbar-corner {
  background: #1E293B;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    scrollbar-color: #475569 #1E293B;
  }
  
  :root:not([data-theme='light']) *::-webkit-scrollbar-track {
    background: #1E293B;
  }
  
  :root:not([data-theme='light']) *::-webkit-scrollbar-thumb {
    background: #475569;
  }
  
  :root:not([data-theme='light']) *::-webkit-scrollbar-thumb:hover {
    background: #64748B;
  }
  
  :root:not([data-theme='light']) *::-webkit-scrollbar-corner {
    background: #1E293B;
  }
}

/* Highlighted segment pulsing animation */
@keyframes segment-pulse {
  0%, 100% {
    stroke-opacity: 1;
    stroke-width: 8;
  }
  50% {
    stroke-opacity: 0.7;
    stroke-width: 10;
  }
}

.highlighted-segment-glow {
  animation: segment-pulse 1.5s ease-in-out infinite;
}
